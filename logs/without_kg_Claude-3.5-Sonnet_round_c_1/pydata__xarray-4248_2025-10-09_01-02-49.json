{
  "zero_patches": {
    "Location 1 (/root/hy/projects_1/xarray/xarray/core/formatting.py lines 281-281)": "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n"
  },
  "variant_patches": {
    "Location 1 (/root/hy/projects_1/xarray/xarray/core/formatting.py lines 281-281)": [
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes and format name accordingly\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes and format name accordingly\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n",
      "\ndef summarize_variable(\n    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n):\n    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n    if max_width is None:\n        max_width_options = OPTIONS[\"display_width\"]\n        if not isinstance(max_width_options, int):\n            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n        else:\n            max_width = max_width_options\n    \n    # Check for units in variable attributes\n    units = var.attrs.get('units')\n    name_with_units = f\"{name}, in {units}\" if units else str(name)\n    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n    \n    if var.dims:\n        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n    else:\n        dims_str = \"\"\n    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n\n    values_width = max_width - len(front_str)\n    values_str = inline_variable_array_repr(var, values_width)\n\n    return front_str + values_str\n"
    ]
  },
  "combined_diffs": {
    "raw_patch": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..2851993a 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,11 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_0": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_1": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_2": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_3": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..173c2b3a 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes and format name accordingly\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_4": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_5": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_6": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..173c2b3a 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes and format name accordingly\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_7": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n",
    "variant_8": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 28eaae5f..59b12a96 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -278,7 +278,33 @@ def summarize_variable(\n             raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n         else:\n             max_width = max_width_options\n-    first_col = pretty_print(f\"  {marker} {name} \", col_width)\n+\n+def summarize_variable(\n+    name: Hashable, var, col_width: int, marker: str = \" \", max_width: int = None\n+):\n+    \"\"\"Summarize a variable in one line, e.g., for the Dataset.__repr__.\"\"\"\n+    if max_width is None:\n+        max_width_options = OPTIONS[\"display_width\"]\n+        if not isinstance(max_width_options, int):\n+            raise TypeError(f\"`max_width` value of `{max_width}` is not a valid int\")\n+        else:\n+            max_width = max_width_options\n+    \n+    # Check for units in variable attributes\n+    units = var.attrs.get('units')\n+    name_with_units = f\"{name}, in {units}\" if units else str(name)\n+    first_col = pretty_print(f\"  {marker} {name_with_units} \", col_width)\n+    \n+    if var.dims:\n+        dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n+    else:\n+        dims_str = \"\"\n+    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+\n+    values_width = max_width - len(front_str)\n+    values_str = inline_variable_array_repr(var, values_width)\n+\n+    return front_str + values_str\n     if var.dims:\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n"
  }
}