{
  "zero_patches": {
    "Location 1 (/root/hy/projects/matplotlib/lib/matplotlib/pyplot.py lines 2283-2283)": "\n    rc('image', cmap=cmap)\n"
  },
  "variant_patches": {
    "Location 1 (/root/hy/projects/matplotlib/lib/matplotlib/pyplot.py lines 2283-2283)": [
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n",
      "\n    rc('image', cmap=cmap)\n"
    ]
  },
  "combined_diffs": {
    "raw_patch": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..adf2efa5e5 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,35 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+def set_cmap(cmap: Colormap | str) -> None:\n+    \"\"\"\n+    Set the default colormap, and applies it to the current image if any.\n+\n+    Parameters\n+    ----------\n+    cmap : `~matplotlib.colors.Colormap` or str\n+        A colormap instance or the name of a registered colormap.\n+\n+    See Also\n+    --------\n+    colormaps\n+    matplotlib.cm.register_cmap\n+    matplotlib.cm.get_cmap\n+    \"\"\"\n+    # Store the original name before converting to Colormap object\n+    if isinstance(cmap, str):\n+        cmap_name = cmap\n+    else:\n+        cmap_name = cmap.name\n+    \n+    cmap = get_cmap(cmap)\n+\n+    rc('image', cmap=cmap_name)\n+    im = gci()\n+\n+    if im is not None:\n+        im.set_cmap(cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_0": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_1": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_2": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_3": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_4": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_5": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_6": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_7": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n",
    "variant_8": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 58ce4c03fa..433ed3538d 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,8 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+\n+    rc('image', cmap=cmap)\n     im = gci()\n \n     if im is not None:\n"
  }
}