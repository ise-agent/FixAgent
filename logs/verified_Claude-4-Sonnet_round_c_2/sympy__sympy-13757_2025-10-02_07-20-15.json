{
  "zero_patches": {
    "Location 1 (/root/hy/projects/sympy/sympy/polys/polytools.py lines 4056-4056)": "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n"
  },
  "variant_patches": {
    "Location 1 (/root/hy/projects/sympy/sympy/polys/polytools.py lines 4056-4056)": [
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n",
      "\n    @_sympifyit('g', NotImplemented)\n    def __rmul__(f, g):\n        if not g.is_Poly:\n            try:\n                g = f.__class__(g, *f.gens)\n            except PolynomialError:\n                return f.mul_ground(g)\n\n        return g.mul(f)\n"
    ]
  },
  "combined_diffs": {
    "raw_patch": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..3dcef1569a 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,8 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+                return f.mul_ground(g)\n \n         return g.mul(f)\n \n",
    "variant_0": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_1": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_2": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_3": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_4": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_5": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_6": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_7": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n",
    "variant_8": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex d5ac051f63..ec83ee1070 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -4053,7 +4053,16 @@ def __rmul__(f, g):\n             try:\n                 g = f.__class__(g, *f.gens)\n             except PolynomialError:\n-                return g*f.as_expr()\n+\n+    @_sympifyit('g', NotImplemented)\n+    def __rmul__(f, g):\n+        if not g.is_Poly:\n+            try:\n+                g = f.__class__(g, *f.gens)\n+            except PolynomialError:\n+                return f.mul_ground(g)\n+\n+        return g.mul(f)\n \n         return g.mul(f)\n \n"
  }
}