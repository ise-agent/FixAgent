{
  "zero_patches": {
    "Location 1 (/root/hy/projects_4/xarray/xarray/core/dataarray.py lines 1962-1967)": "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n"
  },
  "variant_patches": {
    "Location 1 (/root/hy/projects_4/xarray/xarray/core/dataarray.py lines 1962-1967)": [
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n",
      "\n        # pull variables out of datarray\n        data_dict = {}\n        for k in variables:\n            selected = self.sel({variable_dim: k})\n            if variable_dim in selected.coords:\n                selected = selected.drop_vars(variable_dim)\n            data_dict[k] = selected.squeeze(drop=True)\n\n        # unstacked dataset\n        return Dataset(data_dict)\n"
    ]
  },
  "combined_diffs": {
    "raw_patch": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_0": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_1": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_2": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_3": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_4": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_5": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_6": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_7": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n",
    "variant_8": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex b0df8749..84104e65 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -1958,10 +1958,15 @@ class DataArray(AbstractArray, DataWithCoords):\n         variables = idx.levels[level_number]\n         variable_dim = idx.names[level_number]\n \n+        # pull variables out of datarray\n+\n         # pull variables out of datarray\n         data_dict = {}\n         for k in variables:\n-            data_dict[k] = self.sel({variable_dim: k}).squeeze(drop=True)\n+            selected = self.sel({variable_dim: k})\n+            if variable_dim in selected.coords:\n+                selected = selected.drop_vars(variable_dim)\n+            data_dict[k] = selected.squeeze(drop=True)\n \n         # unstacked dataset\n         return Dataset(data_dict)\n"
  }
}