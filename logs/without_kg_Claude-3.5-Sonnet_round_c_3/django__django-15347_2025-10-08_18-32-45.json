{
  "zero_patches": {
    "Location 1 (/root/hy/projects_3/django/django/contrib/messages/storage/cookie.py lines 21-23)": "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n"
  },
  "variant_patches": {
    "Location 1 (/root/hy/projects_3/django/django/contrib/messages/storage/cookie.py lines 21-23)": [
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n",
      "\n    def default(self, obj):\n        if isinstance(obj, Message):\n            # Using 0/1 here instead of False/True to produce more compact json\n            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n            message = [self.message_key, is_safedata, obj.level, obj.message]\n            if obj.extra_tags is not None:\n                message.append(obj.extra_tags)\n            return message\n        return super().default(obj)\n"
    ]
  },
  "combined_diffs": {
    "raw_patch": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..4a76200cc7 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -18,8 +18,9 @@ class MessageEncoder(json.JSONEncoder):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n",
    "variant_0": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_1": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_2": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_3": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_4": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_5": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_6": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_7": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n",
    "variant_8": "diff --git a/django/contrib/messages/storage/cookie.py b/django/contrib/messages/storage/cookie.py\nindex 1d390c71dd..f73a6f5c51 100644\n--- a/django/contrib/messages/storage/cookie.py\n+++ b/django/contrib/messages/storage/cookie.py\n@@ -14,15 +14,22 @@ class MessageEncoder(json.JSONEncoder):\n     \"\"\"\n     message_key = '__json_message'\n \n+    def default(self, obj):\n+        if isinstance(obj, Message):\n+            # Using 0/1 here instead of False/True to produce more compact json\n+            is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n+\n     def default(self, obj):\n         if isinstance(obj, Message):\n             # Using 0/1 here instead of False/True to produce more compact json\n             is_safedata = 1 if isinstance(obj.message, SafeData) else 0\n             message = [self.message_key, is_safedata, obj.level, obj.message]\n-            if obj.extra_tags:\n+            if obj.extra_tags is not None:\n                 message.append(obj.extra_tags)\n             return message\n         return super().default(obj)\n+            return message\n+        return super().default(obj)\n \n \n class MessageDecoder(json.JSONDecoder):\n"
  }
}